{"version":3,"file":"static/webpack/static/development/pages/index.js.7c9dddfc1ec05385372a.hot-update.js","sources":["webpack:///./components/ReleaseEntry.js"],"sourcesContent":["import { useState, useRef } from \"react\";\nimport TracklistAndPlayer from \"./TracklistAndPlayer\";\n\nfunction ReleaseEntry(props) {\n  const [playerDisplayId, setPlayerDisplayId] = useState(null);\n  const [showMoreDetails, setShowMoreDetails] = useState(true);\n\n  let releaseCover = useRef();\n  releaseCover.current && console.log(releaseCover.current);\n\n  function showPlayer(event) {\n    setPlayerDisplayId(event.target.getAttribute(\"data-tag\"));\n    setShowMoreDetails(true);\n    // releaseCover.current &&\n    //   window.scrollTo({\n    //     behavior: \"smooth\",\n    //     top: releaseCover.current.offsetTop\n    //   });\n  }\n  function renderSection(section) {\n    return (\n      <div className=\"section\">\n        {section[0] && section.map(paragraph => <p>{paragraph.text}</p>)}\n      </div>\n    );\n  }\n  function hideMoreDetails(e) {\n    setShowMoreDetails(false);\n  }\n  function convertDate(dateString) {\n    var date = new Date(dateString);\n    return date.toLocaleDateString();\n  }\n\n  props.releases && console.log(props.releases);\n\n  return (\n    props.releases &&\n    props.releases.map((release, index) => {\n      let tracklist = Object.values(release.data.tracks[0]);\n      return (\n        <div>\n          <div className=\"release-entry-wrapper\">\n            <div onClick={showPlayer}>\n              <img\n                className=\"release-cover\"\n                key={`cover${index}`}\n                src={release.data.cover.url}\n                alt=\"release-cover\"\n                data-tag={index}\n                ref={releaseCover[index]}\n              />\n              <div className=\"release-details\">\n                <div\n                  key={`artist${index}`}\n                  className=\"artist-name\"\n                  data-tag={index}\n                >\n                  {release.data.artist[0].text}\n                </div>\n\n                <div\n                  key={`title${index}`}\n                  className=\"release-name\"\n                  data-tag={index}\n                >\n                  <img\n                    className=\"mini-play\"\n                    src=\"/img/play-song.png\"\n                    alt=\"mini-play\"\n                    data-tag={index}\n                  />\n                  {release.data.title[0].text}\n                </div>\n              </div>\n            </div>\n            {parseInt(playerDisplayId) === index && (\n              <div>\n                {showMoreDetails && (\n                  <div className=\"more-info-about-release\">\n                    <img\n                      className=\"close-more-info-cross\"\n                      src=\"/img/cross.png\"\n                      alt=\"cross\"\n                      onClick={hideMoreDetails}\n                    />\n                    <div className=\"tracklist-details\">\n                      {renderSection(release.data.tracklist)}\n                    </div>\n                    <div className=\"release-date\">\n                      Released {convertDate(release.data[\"release-date\"])}\n                    </div>\n                    <div className=\"buy-link\">\n                      <a href={release.data.buy.url} target=\"_blank\">\n                        BUY\n                      </a>\n                    </div>\n\n                    <div className=\"about-release\">\n                      {renderSection(release.data.about)}\n                    </div>\n\n                    <div className=\"credits\">\n                      {renderSection(release.data.credits)}\n                    </div>\n                  </div>\n                )}\n                <TracklistAndPlayer\n                  tracklist={tracklist}\n                  setPlayerDisplayId={setPlayerDisplayId}\n                />\n              </div>\n            )}\n          </div>\n          <style jsx>{`\n            .release-entry-wrapper {\n              z-index: -1;\n              padding-left: var(--global-margin);\n              padding-right: var(--global-margin);\n              font-family: var(--font1);\n              font-size: var(--standard-font-size);\n              text-transform: uppercase;\n            }\n\n            .release-cover {\n              cursor: pointer;\n              width: 100%;\n              transition: opacity 0.2s;\n            }\n            .release-cover:hover {\n              opacity: 0.8;\n            }\n\n            .release-details {\n              padding-top: 1rem;\n              padding-bottom: 1rem;\n              padding-left: 0.5rem;\n              padding-right: 0.5rem;\n              text-align: center;\n              letter-spacing: 0.05rem;\n              transition: opacity 0.3s;\n\n              cursor: pointer;\n            }\n            .release-details:hover {\n              opacity: 0.7;\n            }\n            .mini-play {\n              width: 0.5rem;\n              margin-right: 0.7rem;\n            }\n            .artist-name,\n            .release-name {\n              padding-top: 0.5rem;\n              padding-bottom: 0.3rem;\n            }\n            .tracklist-details {\n              margin-bottom: 1rem;\n              padding-right: 0.5rem;\n            }\n            .buy-link {\n              margin-top: 1rem;\n              margin-bottom: 1rem;\n              text-decoration: underline;\n            }\n            .close-more-info-cross {\n              width: 0.7rem;\n              position: absolute;\n              right: 0;\n              top: 0;\n              transition: transform 0.3s;\n              opacity: 0.7;\n              cursor: pointer;\n            }\n            .close-more-info-cross:hover {\n              width: 0.7rem;\n              opacity: 1;\n            }\n            .more-info-about-release {\n              text-transform: none;\n              margin-bottom: 4rem;\n              position: relative;\n              letter-spacing: 0.05rem;\n            }\n            .more-info-section-title {\n              margin-bottom: 1rem;\n              margin-top: 1rem;\n            }\n            .about-release {\n              margin-bottom: 2rem;\n            }\n\n            @media (min-width: 801px) {\n              .release-entry-wrapper {\n                font-size: var(--desktop-font-size);\n              }\n            }\n          `}</style>\n        </div>\n      );\n    })\n  );\n}\n\nexport default ReleaseEntry;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAEA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAlEA;AAAA;AAAA;AA+JA;AAEA;AACA;AACA;;;;A","sourceRoot":""}
{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _Object$values from \"@babel/runtime-corejs2/core-js/object/values\";\nvar _jsxFileName = \"/Users/jeremie/web/33_elis/components/ReleaseEntry.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useRef } from \"react\";\nimport TracklistAndPlayer from \"./TracklistAndPlayer\";\n\nfunction ReleaseEntry(props) {\n  const {\n    0: playerDisplayId,\n    1: setPlayerDisplayId\n  } = useState(null);\n  const {\n    0: showMoreDetails,\n    1: setShowMoreDetails\n  } = useState(true); // let releaseCover = useRef();\n  // releaseCover.current && console.log(releaseCover.current);\n\n  function showPlayer(event) {\n    setPlayerDisplayId(event.target.getAttribute(\"data-tag\"));\n    setShowMoreDetails(true); // releaseCover.current &&\n    //   window.scrollTo({\n    //     behavior: \"smooth\",\n    //     top: releaseCover.current.offsetTop\n    //   });\n  }\n\n  function renderSection(section) {\n    return __jsx(\"div\", {\n      className: \"section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, section[0] && section.map(paragraph => __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, paragraph.text)));\n  }\n\n  function hideMoreDetails(e) {\n    setShowMoreDetails(false);\n  }\n\n  function convertDate(dateString) {\n    var date = new Date(dateString);\n    return date.toLocaleDateString();\n  }\n\n  props.releases && console.log(props.releases);\n  return props.releases && props.releases.map((release, index) => {\n    let tracklist = _Object$values(release.data.tracks[0]);\n\n    return __jsx(\"div\", {\n      className: \"jsx-478194894\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-478194894\" + \" \" + \"release-entry-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      onClick: showPlayer,\n      className: \"jsx-478194894\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      key: `cover${index}`,\n      src: release.data.cover.url,\n      alt: \"release-cover\",\n      \"data-tag\": index // ref={releaseCover}\n      ,\n      className: \"jsx-478194894\" + \" \" + \"release-cover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"jsx-478194894\" + \" \" + \"release-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      key: `artist${index}`,\n      \"data-tag\": index,\n      className: \"jsx-478194894\" + \" \" + \"artist-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, release.data.artist[0].text), __jsx(\"div\", {\n      key: `title${index}`,\n      \"data-tag\": index,\n      className: \"jsx-478194894\" + \" \" + \"release-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: \"/img/play-song.png\",\n      alt: \"mini-play\",\n      \"data-tag\": index,\n      className: \"jsx-478194894\" + \" \" + \"mini-play\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), release.data.title[0].text))), _parseInt(playerDisplayId) === index && __jsx(\"div\", {\n      className: \"jsx-478194894\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, showMoreDetails && __jsx(\"div\", {\n      className: \"jsx-478194894\" + \" \" + \"more-info-about-release\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: \"/img/cross.png\",\n      alt: \"cross\",\n      onClick: hideMoreDetails,\n      className: \"jsx-478194894\" + \" \" + \"close-more-info-cross\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"jsx-478194894\" + \" \" + \"tracklist-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, renderSection(release.data.tracklist)), __jsx(\"div\", {\n      className: \"jsx-478194894\" + \" \" + \"release-date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Released \", convertDate(release.data[\"release-date\"])), __jsx(\"div\", {\n      className: \"jsx-478194894\" + \" \" + \"buy-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      href: release.data.buy.url,\n      target: \"_blank\",\n      className: \"jsx-478194894\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"BUY\")), __jsx(\"div\", {\n      className: \"jsx-478194894\" + \" \" + \"about-release\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, renderSection(release.data.about)), __jsx(\"div\", {\n      className: \"jsx-478194894\" + \" \" + \"credits\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, renderSection(release.data.credits))), __jsx(TracklistAndPlayer, {\n      tracklist: tracklist,\n      setPlayerDisplayId: setPlayerDisplayId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))), __jsx(_JSXStyle, {\n      id: \"478194894\",\n      __self: this\n    }, \".release-entry-wrapper.jsx-478194894{z-index:-1;padding-left:var(--global-margin);padding-right:var(--global-margin);font-family:var(--font1);font-size:var(--standard-font-size);text-transform:uppercase;}.release-cover.jsx-478194894{cursor:pointer;width:100%;-webkit-transition:opacity 0.2s;transition:opacity 0.2s;}.release-cover.jsx-478194894:hover{opacity:0.8;}.release-details.jsx-478194894{padding-top:0.5rem;padding-bottom:2.5rem;padding-left:0.5rem;padding-right:0.5rem;text-align:center;-webkit-letter-spacing:0.05rem;-moz-letter-spacing:0.05rem;-ms-letter-spacing:0.05rem;letter-spacing:0.05rem;-webkit-transition:opacity 0.3s;transition:opacity 0.3s;cursor:pointer;}.release-details.jsx-478194894:hover{opacity:0.7;}.mini-play.jsx-478194894{width:0.5rem;margin-right:0.7rem;}.artist-name.jsx-478194894{padding-top:0.5rem;}.release-name.jsx-478194894{padding-top:0.5rem;}.tracklist-details.jsx-478194894{margin-bottom:1rem;padding-right:0.5rem;}.buy-link.jsx-478194894{margin-top:1rem;margin-bottom:1rem;-webkit-text-decoration:underline;text-decoration:underline;}.close-more-info-cross.jsx-478194894{width:0.7rem;position:absolute;right:0;top:0;-webkit-transition:-webkit-transform 0.3s;-webkit-transition:transform 0.3s;transition:transform 0.3s;opacity:0.7;cursor:pointer;}.close-more-info-cross.jsx-478194894:hover{width:0.7rem;opacity:1;}.more-info-about-release.jsx-478194894{text-transform:none;margin-bottom:4rem;position:relative;-webkit-letter-spacing:0.05rem;-moz-letter-spacing:0.05rem;-ms-letter-spacing:0.05rem;letter-spacing:0.05rem;line-height:1.1rem;}.more-info-section-title.jsx-478194894{margin-bottom:1rem;margin-top:1rem;}.about-release.jsx-478194894{margin-bottom:2rem;}@media (min-width:801px){.release-entry-wrapper.jsx-478194894{font-size:var(--desktop-font-size);}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qZXJlbWllL3dlYi8zM19lbGlzL2NvbXBvbmVudHMvUmVsZWFzZUVudHJ5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWtIc0IsQUFHMEIsQUFTSSxBQUtILEFBSU8sQUFXUCxBQUdDLEFBSU0sQUFHQSxBQUdBLEFBSUgsQUFLSCxBQVNBLEFBSU8sQUFPRCxBQUlBLEFBS2tCLFdBL0VILENBY3BDLEFBZUEsQ0FHc0IsQUFtQkYsQUFTUixFQW5EQyxDQXFDUSxHQTVCRyxBQWtCeEIsQUFHQSxBQUd1QixBQTZCTCxBQUlsQixDQVhxQixHQUhyQixHQW5EMEIsS0EwQ2hCLEVBbkJWLEVBYzRCLEFBeUI1QixBQVFFLElBM0JNLEFBWVksQ0F0QnBCLENBeEJzQixJQWxCZSxBQXFEVCxZQVlILElBOUNGLG1CQWxCSSxFQVMzQixBQVVvQixhQTJCcEIsS0ExQnlCLEtBbkJhLG9DQUNYLE1BbURiLFlBQ0csT0FuRGpCLEFBOERxQixRQVZyQixXQVdBLHdCQTdDMEIsd0RBRVQsZUFDakIiLCJmaWxlIjoiL1VzZXJzL2plcmVtaWUvd2ViLzMzX2VsaXMvY29tcG9uZW50cy9SZWxlYXNlRW50cnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgVHJhY2tsaXN0QW5kUGxheWVyIGZyb20gXCIuL1RyYWNrbGlzdEFuZFBsYXllclwiO1xuXG5mdW5jdGlvbiBSZWxlYXNlRW50cnkocHJvcHMpIHtcbiAgY29uc3QgW3BsYXllckRpc3BsYXlJZCwgc2V0UGxheWVyRGlzcGxheUlkXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc2hvd01vcmVEZXRhaWxzLCBzZXRTaG93TW9yZURldGFpbHNdID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgLy8gbGV0IHJlbGVhc2VDb3ZlciA9IHVzZVJlZigpO1xuICAvLyByZWxlYXNlQ292ZXIuY3VycmVudCAmJiBjb25zb2xlLmxvZyhyZWxlYXNlQ292ZXIuY3VycmVudCk7XG5cbiAgZnVuY3Rpb24gc2hvd1BsYXllcihldmVudCkge1xuICAgIHNldFBsYXllckRpc3BsYXlJZChldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS10YWdcIikpO1xuICAgIHNldFNob3dNb3JlRGV0YWlscyh0cnVlKTtcbiAgICAvLyByZWxlYXNlQ292ZXIuY3VycmVudCAmJlxuICAgIC8vICAgd2luZG93LnNjcm9sbFRvKHtcbiAgICAvLyAgICAgYmVoYXZpb3I6IFwic21vb3RoXCIsXG4gICAgLy8gICAgIHRvcDogcmVsZWFzZUNvdmVyLmN1cnJlbnQub2Zmc2V0VG9wXG4gICAgLy8gICB9KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJTZWN0aW9uKHNlY3Rpb24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgIHtzZWN0aW9uWzBdICYmIHNlY3Rpb24ubWFwKHBhcmFncmFwaCA9PiA8cD57cGFyYWdyYXBoLnRleHR9PC9wPil9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIGhpZGVNb3JlRGV0YWlscyhlKSB7XG4gICAgc2V0U2hvd01vcmVEZXRhaWxzKGZhbHNlKTtcbiAgfVxuICBmdW5jdGlvbiBjb252ZXJ0RGF0ZShkYXRlU3RyaW5nKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgfVxuXG4gIHByb3BzLnJlbGVhc2VzICYmIGNvbnNvbGUubG9nKHByb3BzLnJlbGVhc2VzKTtcblxuICByZXR1cm4gKFxuICAgIHByb3BzLnJlbGVhc2VzICYmXG4gICAgcHJvcHMucmVsZWFzZXMubWFwKChyZWxlYXNlLCBpbmRleCkgPT4ge1xuICAgICAgbGV0IHRyYWNrbGlzdCA9IE9iamVjdC52YWx1ZXMocmVsZWFzZS5kYXRhLnRyYWNrc1swXSk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsZWFzZS1lbnRyeS13cmFwcGVyXCI+XG4gICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9e3Nob3dQbGF5ZXJ9PlxuICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsZWFzZS1jb3ZlclwiXG4gICAgICAgICAgICAgICAga2V5PXtgY292ZXIke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgc3JjPXtyZWxlYXNlLmRhdGEuY292ZXIudXJsfVxuICAgICAgICAgICAgICAgIGFsdD1cInJlbGVhc2UtY292ZXJcIlxuICAgICAgICAgICAgICAgIGRhdGEtdGFnPXtpbmRleH1cbiAgICAgICAgICAgICAgICAvLyByZWY9e3JlbGVhc2VDb3Zlcn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxlYXNlLWRldGFpbHNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBrZXk9e2BhcnRpc3Qke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhcnRpc3QtbmFtZVwiXG4gICAgICAgICAgICAgICAgICBkYXRhLXRhZz17aW5kZXh9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3JlbGVhc2UuZGF0YS5hcnRpc3RbMF0udGV4dH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGtleT17YHRpdGxlJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsZWFzZS1uYW1lXCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtdGFnPXtpbmRleH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1pbmktcGxheVwiXG4gICAgICAgICAgICAgICAgICAgIHNyYz1cIi9pbWcvcGxheS1zb25nLnBuZ1wiXG4gICAgICAgICAgICAgICAgICAgIGFsdD1cIm1pbmktcGxheVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdGFnPXtpbmRleH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICB7cmVsZWFzZS5kYXRhLnRpdGxlWzBdLnRleHR9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7cGFyc2VJbnQocGxheWVyRGlzcGxheUlkKSA9PT0gaW5kZXggJiYgKFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIHtzaG93TW9yZURldGFpbHMgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb3JlLWluZm8tYWJvdXQtcmVsZWFzZVwiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2UtbW9yZS1pbmZvLWNyb3NzXCJcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9XCIvaW1nL2Nyb3NzLnBuZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgYWx0PVwiY3Jvc3NcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hpZGVNb3JlRGV0YWlsc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cmFja2xpc3QtZGV0YWlsc1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJTZWN0aW9uKHJlbGVhc2UuZGF0YS50cmFja2xpc3QpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxlYXNlLWRhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICBSZWxlYXNlZCB7Y29udmVydERhdGUocmVsZWFzZS5kYXRhW1wicmVsZWFzZS1kYXRlXCJdKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV5LWxpbmtcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtyZWxlYXNlLmRhdGEuYnV5LnVybH0gdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBCVVlcbiAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJvdXQtcmVsZWFzZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJTZWN0aW9uKHJlbGVhc2UuZGF0YS5hYm91dCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3JlZGl0c1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJTZWN0aW9uKHJlbGVhc2UuZGF0YS5jcmVkaXRzKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDxUcmFja2xpc3RBbmRQbGF5ZXJcbiAgICAgICAgICAgICAgICAgIHRyYWNrbGlzdD17dHJhY2tsaXN0fVxuICAgICAgICAgICAgICAgICAgc2V0UGxheWVyRGlzcGxheUlkPXtzZXRQbGF5ZXJEaXNwbGF5SWR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgIC5yZWxlYXNlLWVudHJ5LXdyYXBwZXIge1xuICAgICAgICAgICAgICB6LWluZGV4OiAtMTtcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiB2YXIoLS1nbG9iYWwtbWFyZ2luKTtcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogdmFyKC0tZ2xvYmFsLW1hcmdpbik7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250MSk7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tc3RhbmRhcmQtZm9udC1zaXplKTtcbiAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnJlbGVhc2UtY292ZXIge1xuICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAucmVsZWFzZS1jb3Zlcjpob3ZlciB7XG4gICAgICAgICAgICAgIG9wYWNpdHk6IDAuODtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnJlbGVhc2UtZGV0YWlscyB7XG4gICAgICAgICAgICAgIHBhZGRpbmctdG9wOiAwLjVyZW07XG4gICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAyLjVyZW07XG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMC41cmVtO1xuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAwLjVyZW07XG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDVyZW07XG4gICAgICAgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcztcblxuICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAucmVsZWFzZS1kZXRhaWxzOmhvdmVyIHtcbiAgICAgICAgICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLm1pbmktcGxheSB7XG4gICAgICAgICAgICAgIHdpZHRoOiAwLjVyZW07XG4gICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMC43cmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmFydGlzdC1uYW1lIHtcbiAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDAuNXJlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5yZWxlYXNlLW5hbWUge1xuICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogMC41cmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnRyYWNrbGlzdC1kZXRhaWxzIHtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMC41cmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmJ1eS1saW5rIHtcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMXJlbTtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY2xvc2UtbW9yZS1pbmZvLWNyb3NzIHtcbiAgICAgICAgICAgICAgd2lkdGg6IDAuN3JlbTtcbiAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcztcbiAgICAgICAgICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY2xvc2UtbW9yZS1pbmZvLWNyb3NzOmhvdmVyIHtcbiAgICAgICAgICAgICAgd2lkdGg6IDAuN3JlbTtcbiAgICAgICAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5tb3JlLWluZm8tYWJvdXQtcmVsZWFzZSB7XG4gICAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0cmVtO1xuICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA1cmVtO1xuICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS4xcmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLm1vcmUtaW5mby1zZWN0aW9uLXRpdGxlIHtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMXJlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5hYm91dC1yZWxlYXNlIHtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDgwMXB4KSB7XG4gICAgICAgICAgICAgIC5yZWxlYXNlLWVudHJ5LXdyYXBwZXIge1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tZGVza3RvcC1mb250LXNpemUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfSlcbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVsZWFzZUVudHJ5O1xuIl19 */\\n/*@ sourceURL=/Users/jeremie/web/33_elis/components/ReleaseEntry.js */\"));\n  });\n}\n\nexport default ReleaseEntry;","map":{"version":3,"sources":["/Users/jeremie/web/33_elis/components/ReleaseEntry.js"],"names":["useState","useRef","TracklistAndPlayer","ReleaseEntry","props","playerDisplayId","setPlayerDisplayId","showMoreDetails","setShowMoreDetails","showPlayer","event","target","getAttribute","renderSection","section","map","paragraph","text","hideMoreDetails","e","convertDate","dateString","date","Date","toLocaleDateString","releases","console","log","release","index","tracklist","data","tracks","cover","url","artist","title","buy","about","credits"],"mappings":"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","sourcesContent":["import { useState, useRef } from \"react\";\nimport TracklistAndPlayer from \"./TracklistAndPlayer\";\n\nfunction ReleaseEntry(props) {\n  const [playerDisplayId, setPlayerDisplayId] = useState(null);\n  const [showMoreDetails, setShowMoreDetails] = useState(true);\n\n  // let releaseCover = useRef();\n  // releaseCover.current && console.log(releaseCover.current);\n\n  function showPlayer(event) {\n    setPlayerDisplayId(event.target.getAttribute(\"data-tag\"));\n    setShowMoreDetails(true);\n    // releaseCover.current &&\n    //   window.scrollTo({\n    //     behavior: \"smooth\",\n    //     top: releaseCover.current.offsetTop\n    //   });\n  }\n  function renderSection(section) {\n    return (\n      <div className=\"section\">\n        {section[0] && section.map(paragraph => <p>{paragraph.text}</p>)}\n      </div>\n    );\n  }\n  function hideMoreDetails(e) {\n    setShowMoreDetails(false);\n  }\n  function convertDate(dateString) {\n    var date = new Date(dateString);\n    return date.toLocaleDateString();\n  }\n\n  props.releases && console.log(props.releases);\n\n  return (\n    props.releases &&\n    props.releases.map((release, index) => {\n      let tracklist = Object.values(release.data.tracks[0]);\n      return (\n        <div>\n          <div className=\"release-entry-wrapper\">\n            <div onClick={showPlayer}>\n              <img\n                className=\"release-cover\"\n                key={`cover${index}`}\n                src={release.data.cover.url}\n                alt=\"release-cover\"\n                data-tag={index}\n                // ref={releaseCover}\n              />\n              <div className=\"release-details\">\n                <div\n                  key={`artist${index}`}\n                  className=\"artist-name\"\n                  data-tag={index}\n                >\n                  {release.data.artist[0].text}\n                </div>\n\n                <div\n                  key={`title${index}`}\n                  className=\"release-name\"\n                  data-tag={index}\n                >\n                  <img\n                    className=\"mini-play\"\n                    src=\"/img/play-song.png\"\n                    alt=\"mini-play\"\n                    data-tag={index}\n                  />\n                  {release.data.title[0].text}\n                </div>\n              </div>\n            </div>\n            {parseInt(playerDisplayId) === index && (\n              <div>\n                {showMoreDetails && (\n                  <div className=\"more-info-about-release\">\n                    <img\n                      className=\"close-more-info-cross\"\n                      src=\"/img/cross.png\"\n                      alt=\"cross\"\n                      onClick={hideMoreDetails}\n                    />\n                    <div className=\"tracklist-details\">\n                      {renderSection(release.data.tracklist)}\n                    </div>\n                    <div className=\"release-date\">\n                      Released {convertDate(release.data[\"release-date\"])}\n                    </div>\n                    <div className=\"buy-link\">\n                      <a href={release.data.buy.url} target=\"_blank\">\n                        BUY\n                      </a>\n                    </div>\n\n                    <div className=\"about-release\">\n                      {renderSection(release.data.about)}\n                    </div>\n\n                    <div className=\"credits\">\n                      {renderSection(release.data.credits)}\n                    </div>\n                  </div>\n                )}\n                <TracklistAndPlayer\n                  tracklist={tracklist}\n                  setPlayerDisplayId={setPlayerDisplayId}\n                />\n              </div>\n            )}\n          </div>\n          <style jsx>{`\n            .release-entry-wrapper {\n              z-index: -1;\n              padding-left: var(--global-margin);\n              padding-right: var(--global-margin);\n              font-family: var(--font1);\n              font-size: var(--standard-font-size);\n              text-transform: uppercase;\n            }\n\n            .release-cover {\n              cursor: pointer;\n              width: 100%;\n              transition: opacity 0.2s;\n            }\n            .release-cover:hover {\n              opacity: 0.8;\n            }\n\n            .release-details {\n              padding-top: 0.5rem;\n              padding-bottom: 2.5rem;\n              padding-left: 0.5rem;\n              padding-right: 0.5rem;\n              text-align: center;\n              letter-spacing: 0.05rem;\n              transition: opacity 0.3s;\n\n              cursor: pointer;\n            }\n            .release-details:hover {\n              opacity: 0.7;\n            }\n            .mini-play {\n              width: 0.5rem;\n              margin-right: 0.7rem;\n            }\n            .artist-name {\n              padding-top: 0.5rem;\n            }\n            .release-name {\n              padding-top: 0.5rem;\n            }\n            .tracklist-details {\n              margin-bottom: 1rem;\n              padding-right: 0.5rem;\n            }\n            .buy-link {\n              margin-top: 1rem;\n              margin-bottom: 1rem;\n              text-decoration: underline;\n            }\n            .close-more-info-cross {\n              width: 0.7rem;\n              position: absolute;\n              right: 0;\n              top: 0;\n              transition: transform 0.3s;\n              opacity: 0.7;\n              cursor: pointer;\n            }\n            .close-more-info-cross:hover {\n              width: 0.7rem;\n              opacity: 1;\n            }\n            .more-info-about-release {\n              text-transform: none;\n              margin-bottom: 4rem;\n              position: relative;\n              letter-spacing: 0.05rem;\n              line-height: 1.1rem;\n            }\n            .more-info-section-title {\n              margin-bottom: 1rem;\n              margin-top: 1rem;\n            }\n            .about-release {\n              margin-bottom: 2rem;\n            }\n\n            @media (min-width: 801px) {\n              .release-entry-wrapper {\n                font-size: var(--desktop-font-size);\n              }\n            }\n          `}</style>\n        </div>\n      );\n    })\n  );\n}\n\nexport default ReleaseEntry;\n"]},"metadata":{},"sourceType":"module"}
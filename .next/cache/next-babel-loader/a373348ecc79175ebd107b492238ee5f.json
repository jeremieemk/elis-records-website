{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _Object$values from \"@babel/runtime-corejs2/core-js/object/values\";\nvar _jsxFileName = \"/Users/jeremie/web/33_elis/components/ReleaseEntry.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport AudioPlayer from \"./AudioPlayer\";\nimport { useEffect, useState } from \"react\";\n\nfunction ReleaseEntry(props) {\n  var _useState = useState(null),\n      playerDisplayId = _useState[0],\n      setPlayerDisplayId = _useState[1];\n\n  var _useState2 = useState(0),\n      selectedTrack = _useState2[0],\n      setSelectedTrack = _useState2[1];\n\n  var _useState3 = useState(false),\n      launchPlay = _useState3[0],\n      setLaunchPlay = _useState3[1];\n\n  function showPlayer(event) {\n    setPlayerDisplayId(event.target.getAttribute(\"data-tag\"));\n  }\n\n  function startTrack(event) {\n    setSelectedTrack(event.target.getAttribute(\"data-tag\"));\n    setLaunchPlay(true);\n  }\n\n  return props.releases && props.releases.map(function (release, index) {\n    var tracklist = _Object$values(release.data.tracks[0]);\n\n    return __jsx(\"div\", {\n      className: \"jsx-747485128\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-747485128\" + \" \" + \"release-entry-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      onClick: showPlayer,\n      key: \"cover\".concat(index),\n      src: release.data.cover.url,\n      alt: \"release-cover\",\n      \"data-tag\": index,\n      className: \"jsx-747485128\" + \" \" + \"release-cover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"jsx-747485128\" + \" \" + \"release-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      key: \"artist\".concat(index),\n      className: \"jsx-747485128\" + \" \" + \"artist-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, release.data.artist[0].text), __jsx(\"div\", {\n      key: \"title\".concat(index),\n      className: \"jsx-747485128\" + \" \" + \"release-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: \"/img/play-song.png\",\n      alt: \"mini-play\",\n      onClick: showPlayer,\n      \"data-tag\": index,\n      className: \"jsx-747485128\" + \" \" + \"mini-play\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }), release.data.title[0].text)), _parseInt(playerDisplayId) === index && __jsx(\"div\", {\n      className: \"jsx-747485128\" + \" \" + \"audio-player-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, tracklist.map(function (track, index) {\n      return __jsx(\"div\", {\n        \"data-tag\": index,\n        onClick: startTrack,\n        className: \"jsx-747485128\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, track.name.slice(0, -4));\n    }), __jsx(AudioPlayer, {\n      track: tracklist[selectedTrack],\n      launchPlay: launchPlay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }))), __jsx(_JSXStyle, {\n      id: \"747485128\",\n      __self: this\n    }, \".release-entry-wrapper.jsx-747485128{padding-left:var(--global-margin);padding-right:var(--global-margin);}.release-cover.jsx-747485128{width:100%;}.release-details.jsx-747485128{font-family:var(--font1);font-size:var(--standard-font-size);text-transform:uppercase;padding-top:1rem;padding-bottom:1rem;padding-left:0.5rem;padding-right:0.5rem;text-align:center;-webkit-letter-spacing:0.05rem;-moz-letter-spacing:0.05rem;-ms-letter-spacing:0.05rem;letter-spacing:0.05rem;}.mini-play.jsx-747485128{width:0.6rem;margin-right:1rem;}.artist-name.jsx-747485128,.release-name.jsx-747485128{padding-top:0.5rem;padding-bottom:0.3rem;}.audio-player-container.jsx-747485128{position:fixed;bottom:0;background:white;padding:1rem;width:100%;z-index:2;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qZXJlbWllL3dlYi8zM19lbGlzL2NvbXBvbmVudHMvUmVsZWFzZUVudHJ5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTJEc0IsQUFHaUQsQUFJdkIsQUFJYyxBQVdaLEFBS00sQUFJSixXQXZCakIsRUFlb0IsRUFTVCxJQUphLEtBS0wsQ0FyQm1CLE1BWXRDLEdBcEJxQyxPQXlCckMsQUFLZSxhQUNGLE9BdEJjLElBdUJmLElBL0JaLE1BZ0NBLFdBdkJtQixpQkFDRyxvQkFDQSxvQkFDQyxxQkFDSCxrQkFDSyw2R0FDekIiLCJmaWxlIjoiL1VzZXJzL2plcmVtaWUvd2ViLzMzX2VsaXMvY29tcG9uZW50cy9SZWxlYXNlRW50cnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXVkaW9QbGF5ZXIgZnJvbSBcIi4vQXVkaW9QbGF5ZXJcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gUmVsZWFzZUVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IFtwbGF5ZXJEaXNwbGF5SWQsIHNldFBsYXllckRpc3BsYXlJZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkVHJhY2ssIHNldFNlbGVjdGVkVHJhY2tdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtsYXVuY2hQbGF5LCBzZXRMYXVuY2hQbGF5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgZnVuY3Rpb24gc2hvd1BsYXllcihldmVudCkge1xuICAgIHNldFBsYXllckRpc3BsYXlJZChldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS10YWdcIikpO1xuICB9XG4gIGZ1bmN0aW9uIHN0YXJ0VHJhY2soZXZlbnQpIHtcbiAgICBzZXRTZWxlY3RlZFRyYWNrKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRhZ1wiKSk7XG4gICAgc2V0TGF1bmNoUGxheSh0cnVlKTtcbiAgfVxuICByZXR1cm4gKFxuICAgIHByb3BzLnJlbGVhc2VzICYmXG4gICAgcHJvcHMucmVsZWFzZXMubWFwKGZ1bmN0aW9uKHJlbGVhc2UsIGluZGV4KSB7XG4gICAgICBsZXQgdHJhY2tsaXN0ID0gT2JqZWN0LnZhbHVlcyhyZWxlYXNlLmRhdGEudHJhY2tzWzBdKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxlYXNlLWVudHJ5LXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsZWFzZS1jb3ZlclwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3Nob3dQbGF5ZXJ9XG4gICAgICAgICAgICAgIGtleT17YGNvdmVyJHtpbmRleH1gfVxuICAgICAgICAgICAgICBzcmM9e3JlbGVhc2UuZGF0YS5jb3Zlci51cmx9XG4gICAgICAgICAgICAgIGFsdD1cInJlbGVhc2UtY292ZXJcIlxuICAgICAgICAgICAgICBkYXRhLXRhZz17aW5kZXh9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxlYXNlLWRldGFpbHNcIj5cbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2BhcnRpc3Qke2luZGV4fWB9IGNsYXNzTmFtZT1cImFydGlzdC1uYW1lXCI+XG4gICAgICAgICAgICAgICAge3JlbGVhc2UuZGF0YS5hcnRpc3RbMF0udGV4dH1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2B0aXRsZSR7aW5kZXh9YH0gY2xhc3NOYW1lPVwicmVsZWFzZS1uYW1lXCI+XG4gICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWluaS1wbGF5XCJcbiAgICAgICAgICAgICAgICAgIHNyYz1cIi9pbWcvcGxheS1zb25nLnBuZ1wiXG4gICAgICAgICAgICAgICAgICBhbHQ9XCJtaW5pLXBsYXlcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17c2hvd1BsYXllcn1cbiAgICAgICAgICAgICAgICAgIGRhdGEtdGFnPXtpbmRleH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHtyZWxlYXNlLmRhdGEudGl0bGVbMF0udGV4dH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtwYXJzZUludChwbGF5ZXJEaXNwbGF5SWQpID09PSBpbmRleCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXVkaW8tcGxheWVyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIHt0cmFja2xpc3QubWFwKCh0cmFjaywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS10YWc9e2luZGV4fSBvbkNsaWNrPXtzdGFydFRyYWNrfT5cbiAgICAgICAgICAgICAgICAgICAge3RyYWNrLm5hbWUuc2xpY2UoMCwgLTQpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPEF1ZGlvUGxheWVyXG4gICAgICAgICAgICAgICAgICB0cmFjaz17dHJhY2tsaXN0W3NlbGVjdGVkVHJhY2tdfVxuICAgICAgICAgICAgICAgICAgbGF1bmNoUGxheT17bGF1bmNoUGxheX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgICAgLnJlbGVhc2UtZW50cnktd3JhcHBlciB7XG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogdmFyKC0tZ2xvYmFsLW1hcmdpbik7XG4gICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IHZhcigtLWdsb2JhbC1tYXJnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnJlbGVhc2UtY292ZXIge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnJlbGVhc2UtZGV0YWlscyB7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250MSk7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tc3RhbmRhcmQtZm9udC1zaXplKTtcbiAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDFyZW07XG4gICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxcmVtO1xuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDAuNXJlbTtcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMC41cmVtO1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA1cmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLm1pbmktcGxheSB7XG4gICAgICAgICAgICAgIHdpZHRoOiAwLjZyZW07XG4gICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMXJlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5hcnRpc3QtbmFtZSxcbiAgICAgICAgICAgIC5yZWxlYXNlLW5hbWUge1xuICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogMC41cmVtO1xuICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMC4zcmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmF1ZGlvLXBsYXllci1jb250YWluZXIge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICB6LWluZGV4OiAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0pXG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlbGVhc2VFbnRyeTtcbiJdfQ== */\\n/*@ sourceURL=/Users/jeremie/web/33_elis/components/ReleaseEntry.js */\"));\n  });\n}\n\nexport default ReleaseEntry;","map":{"version":3,"sources":["/Users/jeremie/web/33_elis/components/ReleaseEntry.js"],"names":["AudioPlayer","useEffect","useState","ReleaseEntry","props","playerDisplayId","setPlayerDisplayId","selectedTrack","setSelectedTrack","launchPlay","setLaunchPlay","showPlayer","event","target","getAttribute","startTrack","releases","map","release","index","tracklist","data","tracks","cover","url","artist","text","title","track","name","slice"],"mappings":"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","sourcesContent":["import AudioPlayer from \"./AudioPlayer\";\nimport { useEffect, useState } from \"react\";\n\nfunction ReleaseEntry(props) {\n  const [playerDisplayId, setPlayerDisplayId] = useState(null);\n  const [selectedTrack, setSelectedTrack] = useState(0);\n  const [launchPlay, setLaunchPlay] = useState(false);\n  function showPlayer(event) {\n    setPlayerDisplayId(event.target.getAttribute(\"data-tag\"));\n  }\n  function startTrack(event) {\n    setSelectedTrack(event.target.getAttribute(\"data-tag\"));\n    setLaunchPlay(true);\n  }\n  return (\n    props.releases &&\n    props.releases.map(function(release, index) {\n      let tracklist = Object.values(release.data.tracks[0]);\n      return (\n        <div>\n          <div className=\"release-entry-wrapper\">\n            <img\n              className=\"release-cover\"\n              onClick={showPlayer}\n              key={`cover${index}`}\n              src={release.data.cover.url}\n              alt=\"release-cover\"\n              data-tag={index}\n            />\n            <div className=\"release-details\">\n              <div key={`artist${index}`} className=\"artist-name\">\n                {release.data.artist[0].text}\n              </div>\n\n              <div key={`title${index}`} className=\"release-name\">\n                <img\n                  className=\"mini-play\"\n                  src=\"/img/play-song.png\"\n                  alt=\"mini-play\"\n                  onClick={showPlayer}\n                  data-tag={index}\n                />\n                {release.data.title[0].text}\n              </div>\n            </div>\n            {parseInt(playerDisplayId) === index && (\n              <div className=\"audio-player-container\">\n                {tracklist.map((track, index) => (\n                  <div data-tag={index} onClick={startTrack}>\n                    {track.name.slice(0, -4)}\n                  </div>\n                ))}\n                <AudioPlayer\n                  track={tracklist[selectedTrack]}\n                  launchPlay={launchPlay}\n                />\n              </div>\n            )}\n          </div>\n          <style jsx>{`\n            .release-entry-wrapper {\n              padding-left: var(--global-margin);\n              padding-right: var(--global-margin);\n            }\n            .release-cover {\n              width: 100%;\n            }\n\n            .release-details {\n              font-family: var(--font1);\n              font-size: var(--standard-font-size);\n              text-transform: uppercase;\n              padding-top: 1rem;\n              padding-bottom: 1rem;\n              padding-left: 0.5rem;\n              padding-right: 0.5rem;\n              text-align: center;\n              letter-spacing: 0.05rem;\n            }\n            .mini-play {\n              width: 0.6rem;\n              margin-right: 1rem;\n            }\n            .artist-name,\n            .release-name {\n              padding-top: 0.5rem;\n              padding-bottom: 0.3rem;\n            }\n            .audio-player-container {\n              position: fixed;\n              bottom: 0;\n              background: white;\n              padding: 1rem;\n              width: 100%;\n              z-index: 2;\n            }\n          `}</style>\n        </div>\n      );\n    })\n  );\n}\n\nexport default ReleaseEntry;\n"]},"metadata":{},"sourceType":"module"}
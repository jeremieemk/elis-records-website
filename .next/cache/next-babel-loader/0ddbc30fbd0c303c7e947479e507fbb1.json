{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _Object$values from \"@babel/runtime-corejs2/core-js/object/values\";\nvar _jsxFileName = \"/Users/jeremie/web/33_elis/components/ReleaseEntry.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport AudioPlayer from \"./AudioPlayer\";\nimport { useEffect, useState } from \"react\";\n\nfunction ReleaseEntry(props) {\n  const {\n    0: playerDisplayId,\n    1: setPlayerDisplayId\n  } = useState(null);\n  const {\n    0: selectedTrack,\n    1: setSelectedTrack\n  } = useState(0);\n\n  function showPlayer(event) {\n    setPlayerDisplayId(event.target.getAttribute(\"data-tag\"));\n  }\n\n  function changeTrack(event) {\n    setSelectedTrack(event.target.getAttribute(\"data-tag\"));\n  }\n\n  console.log(props.releases.data);\n  return props.releases && props.releases.data.map(function (release, index) {\n    let tracklist = _Object$values(release.tracks[0]);\n\n    return __jsx(\"div\", {\n      className: \"jsx-3697838130\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3697838130\" + \" \" + \"release-entry-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      onClick: showPlayer,\n      key: `cover${index}`,\n      src: release.cover.url,\n      alt: \"release-cover\",\n      \"data-tag\": index,\n      className: \"jsx-3697838130\" + \" \" + \"release-cover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"jsx-3697838130\" + \" \" + \"release-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      key: `artist${index}`,\n      className: \"jsx-3697838130\" + \" \" + \"artist-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, release.artist[0].text), __jsx(\"div\", {\n      key: `title${index}`,\n      className: \"jsx-3697838130\" + \" \" + \"release-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, release.title[0].text)), _parseInt(playerDisplayId) === index && __jsx(\"div\", {\n      className: \"jsx-3697838130\" + \" \" + \"audio-player-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, tracklist.map((track, index) => __jsx(\"div\", {\n      \"data-tag\": index,\n      onClick: changeTrack,\n      className: \"jsx-3697838130\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, track.name.slice(0, -4))), __jsx(AudioPlayer, {\n      track: tracklist[selectedTrack],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }))), __jsx(_JSXStyle, {\n      id: \"3697838130\",\n      __self: this\n    }, \".release-cover.jsx-3697838130{width:100%;}.audio-player-container.jsx-3697838130{position:fixed;bottom:0;background:white;padding:1rem;width:100%;z-index:2;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qZXJlbWllL3dlYi8zM19lbGlzL2NvbXBvbmVudHMvUmVsZWFzZUVudHJ5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStDc0IsQUFLMEIsQUFXSSxXQVZqQixJQVdXLFNBQ1EsaUJBQ0osYUFDRixXQUNELFVBQ1oiLCJmaWxlIjoiL1VzZXJzL2plcmVtaWUvd2ViLzMzX2VsaXMvY29tcG9uZW50cy9SZWxlYXNlRW50cnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXVkaW9QbGF5ZXIgZnJvbSBcIi4vQXVkaW9QbGF5ZXJcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gUmVsZWFzZUVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IFtwbGF5ZXJEaXNwbGF5SWQsIHNldFBsYXllckRpc3BsYXlJZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkVHJhY2ssIHNldFNlbGVjdGVkVHJhY2tdID0gdXNlU3RhdGUoMCk7XG4gIGZ1bmN0aW9uIHNob3dQbGF5ZXIoZXZlbnQpIHtcbiAgICBzZXRQbGF5ZXJEaXNwbGF5SWQoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtdGFnXCIpKTtcbiAgfVxuICBmdW5jdGlvbiBjaGFuZ2VUcmFjayhldmVudCkge1xuICAgIHNldFNlbGVjdGVkVHJhY2soZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtdGFnXCIpKTtcbiAgfVxuICBjb25zb2xlLmxvZyhwcm9wcy5yZWxlYXNlcy5kYXRhKTtcbiAgcmV0dXJuIChcbiAgICBwcm9wcy5yZWxlYXNlcyAmJlxuICAgIHByb3BzLnJlbGVhc2VzLmRhdGEubWFwKGZ1bmN0aW9uKHJlbGVhc2UsIGluZGV4KSB7XG4gICAgICBsZXQgdHJhY2tsaXN0ID0gT2JqZWN0LnZhbHVlcyhyZWxlYXNlLnRyYWNrc1swXSk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsZWFzZS1lbnRyeS13cmFwcGVyXCI+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGVhc2UtY292ZXJcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtzaG93UGxheWVyfVxuICAgICAgICAgICAgICBrZXk9e2Bjb3ZlciR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgc3JjPXtyZWxlYXNlLmNvdmVyLnVybH1cbiAgICAgICAgICAgICAgYWx0PVwicmVsZWFzZS1jb3ZlclwiXG4gICAgICAgICAgICAgIGRhdGEtdGFnPXtpbmRleH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGVhc2UtZGV0YWlsc1wiPlxuICAgICAgICAgICAgICA8ZGl2IGtleT17YGFydGlzdCR7aW5kZXh9YH0gY2xhc3NOYW1lPVwiYXJ0aXN0LW5hbWVcIj5cbiAgICAgICAgICAgICAgICB7cmVsZWFzZS5hcnRpc3RbMF0udGV4dH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYga2V5PXtgdGl0bGUke2luZGV4fWB9IGNsYXNzTmFtZT1cInJlbGVhc2UtbmFtZVwiPlxuICAgICAgICAgICAgICAgIHtyZWxlYXNlLnRpdGxlWzBdLnRleHR9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7cGFyc2VJbnQocGxheWVyRGlzcGxheUlkKSA9PT0gaW5kZXggJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF1ZGlvLXBsYXllci1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICB7dHJhY2tsaXN0Lm1hcCgodHJhY2ssIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtdGFnPXtpbmRleH0gb25DbGljaz17Y2hhbmdlVHJhY2t9PlxuICAgICAgICAgICAgICAgICAgICB7dHJhY2submFtZS5zbGljZSgwLCAtNCl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8QXVkaW9QbGF5ZXIgdHJhY2s9e3RyYWNrbGlzdFtzZWxlY3RlZFRyYWNrXX0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgIC5yZWxlYXNlLWVudHJ5LXdyYXBwZXIge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnJlbGVhc2UtY292ZXIge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnJlbGVhc2UtZGV0YWlscyB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuYXJ0aXN0LW5hbWUge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmFydGlzdC1uYW1lLFxuICAgICAgICAgICAgLnJlbGVhc2UtbmFtZSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuYXVkaW8tcGxheWVyLWNvbnRhaW5lciB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgICAgICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgIHotaW5kZXg6IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfSlcbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVsZWFzZUVudHJ5O1xuIl19 */\\n/*@ sourceURL=/Users/jeremie/web/33_elis/components/ReleaseEntry.js */\"));\n  });\n}\n\nexport default ReleaseEntry;","map":{"version":3,"sources":["/Users/jeremie/web/33_elis/components/ReleaseEntry.js"],"names":["AudioPlayer","useEffect","useState","ReleaseEntry","props","playerDisplayId","setPlayerDisplayId","selectedTrack","setSelectedTrack","showPlayer","event","target","getAttribute","changeTrack","console","log","releases","data","map","release","index","tracklist","tracks","cover","url","artist","text","title","track","name","slice"],"mappings":";;;;;;AAAA,OAAOA,WAAP,MAAwB,eAAxB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,QAAM;AAAA,OAACC,eAAD;AAAA,OAAkBC;AAAlB,MAAwCJ,QAAQ,CAAC,IAAD,CAAtD;AACA,QAAM;AAAA,OAACK,aAAD;AAAA,OAAgBC;AAAhB,MAAoCN,QAAQ,CAAC,CAAD,CAAlD;;AACA,WAASO,UAAT,CAAoBC,KAApB,EAA2B;AACzBJ,IAAAA,kBAAkB,CAACI,KAAK,CAACC,MAAN,CAAaC,YAAb,CAA0B,UAA1B,CAAD,CAAlB;AACD;;AACD,WAASC,WAAT,CAAqBH,KAArB,EAA4B;AAC1BF,IAAAA,gBAAgB,CAACE,KAAK,CAACC,MAAN,CAAaC,YAAb,CAA0B,UAA1B,CAAD,CAAhB;AACD;;AACDE,EAAAA,OAAO,CAACC,GAAR,CAAYX,KAAK,CAACY,QAAN,CAAeC,IAA3B;AACA,SACEb,KAAK,CAACY,QAAN,IACAZ,KAAK,CAACY,QAAN,CAAeC,IAAf,CAAoBC,GAApB,CAAwB,UAASC,OAAT,EAAkBC,KAAlB,EAAyB;AAC/C,QAAIC,SAAS,GAAG,eAAcF,OAAO,CAACG,MAAR,CAAe,CAAf,CAAd,CAAhB;;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAe,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAEE,MAAA,OAAO,EAAEb,UAFX;AAGE,MAAA,GAAG,EAAG,QAAOW,KAAM,EAHrB;AAIE,MAAA,GAAG,EAAED,OAAO,CAACI,KAAR,CAAcC,GAJrB;AAKE,MAAA,GAAG,EAAC,eALN;AAME,kBAAUJ,KANZ;AAAA,0CACY,eADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EASE;AAAA,0CAAe,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAG,SAAQA,KAAM,EAAzB;AAAA,0CAAsC,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,OAAO,CAACM,MAAR,CAAe,CAAf,EAAkBC,IADrB,CADF,EAIE;AAAK,MAAA,GAAG,EAAG,QAAON,KAAM,EAAxB;AAAA,0CAAqC,cAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,OAAO,CAACQ,KAAR,CAAc,CAAd,EAAiBD,IADpB,CAJF,CATF,EAiBG,UAASrB,eAAT,MAA8Be,KAA9B,IACC;AAAA,0CAAe,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGC,SAAS,CAACH,GAAV,CAAc,CAACU,KAAD,EAAQR,KAAR,KACb;AAAK,kBAAUA,KAAf;AAAsB,MAAA,OAAO,EAAEP,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGe,KAAK,CAACC,IAAN,CAAWC,KAAX,CAAiB,CAAjB,EAAoB,CAAC,CAArB,CADH,CADD,CADH,EAME,MAAC,WAAD;AAAa,MAAA,KAAK,EAAET,SAAS,CAACd,aAAD,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAlBJ,CADF;AAAA;AAAA;AAAA,iwHADF;AAuDD,GAzDD,CAFF;AA6DD;;AAED,eAAeJ,YAAf","sourcesContent":["import AudioPlayer from \"./AudioPlayer\";\nimport { useEffect, useState } from \"react\";\n\nfunction ReleaseEntry(props) {\n  const [playerDisplayId, setPlayerDisplayId] = useState(null);\n  const [selectedTrack, setSelectedTrack] = useState(0);\n  function showPlayer(event) {\n    setPlayerDisplayId(event.target.getAttribute(\"data-tag\"));\n  }\n  function changeTrack(event) {\n    setSelectedTrack(event.target.getAttribute(\"data-tag\"));\n  }\n  console.log(props.releases.data);\n  return (\n    props.releases &&\n    props.releases.data.map(function(release, index) {\n      let tracklist = Object.values(release.tracks[0]);\n      return (\n        <div>\n          <div className=\"release-entry-wrapper\">\n            <img\n              className=\"release-cover\"\n              onClick={showPlayer}\n              key={`cover${index}`}\n              src={release.cover.url}\n              alt=\"release-cover\"\n              data-tag={index}\n            />\n            <div className=\"release-details\">\n              <div key={`artist${index}`} className=\"artist-name\">\n                {release.artist[0].text}\n              </div>\n              <div key={`title${index}`} className=\"release-name\">\n                {release.title[0].text}\n              </div>\n            </div>\n            {parseInt(playerDisplayId) === index && (\n              <div className=\"audio-player-container\">\n                {tracklist.map((track, index) => (\n                  <div data-tag={index} onClick={changeTrack}>\n                    {track.name.slice(0, -4)}\n                  </div>\n                ))}\n                <AudioPlayer track={tracklist[selectedTrack]} />\n              </div>\n            )}\n          </div>\n          <style jsx>{`\n            .release-entry-wrapper {\n            }\n            .release-cover {\n              width: 100%;\n            }\n\n            .release-details {\n            }\n            .artist-name {\n            }\n            .artist-name,\n            .release-name {\n            }\n            .audio-player-container {\n              position: fixed;\n              bottom: 0;\n              background: white;\n              padding: 1rem;\n              width: 100%;\n              z-index: 2;\n            }\n          `}</style>\n        </div>\n      );\n    })\n  );\n}\n\nexport default ReleaseEntry;\n"]},"metadata":{},"sourceType":"module"}
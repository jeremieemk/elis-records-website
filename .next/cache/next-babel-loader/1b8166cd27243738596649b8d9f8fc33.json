{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _Object$values from \"@babel/runtime-corejs2/core-js/object/values\";\nvar _jsxFileName = \"/Users/jeremie/web/33_elis/components/ReleaseEntry.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport AudioPlayer from \"./AudioPlayer\";\nimport { useEffect, useState } from \"react\";\nimport ClosingCross from \"./ClosingCross\";\n\nfunction ReleaseEntry(props) {\n  const {\n    0: playerDisplayId,\n    1: setPlayerDisplayId\n  } = useState(null);\n  const {\n    0: selectedTrack,\n    1: setSelectedTrack\n  } = useState(0);\n  const {\n    0: launchPlay,\n    1: setLaunchPlay\n  } = useState(false);\n\n  function showPlayer(event) {\n    setPlayerDisplayId(event.target.getAttribute(\"data-tag\"));\n  }\n\n  function startTrack(event) {\n    setSelectedTrack(event.target.getAttribute(\"data-tag\"));\n    setLaunchPlay(true);\n  }\n\n  function stopMusic() {\n    setLaunchPlay(false);\n  }\n\n  return props.releases && props.releases.map(function (release, index) {\n    let tracklist = _Object$values(release.data.tracks[0]);\n\n    return __jsx(\"div\", {\n      className: \"jsx-1868677896\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-1868677896\" + \" \" + \"release-entry-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      onClick: showPlayer,\n      key: `cover${index}`,\n      src: release.data.cover.url,\n      alt: \"release-cover\",\n      \"data-tag\": index,\n      className: \"jsx-1868677896\" + \" \" + \"release-cover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"jsx-1868677896\" + \" \" + \"release-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      key: `artist${index}`,\n      className: \"jsx-1868677896\" + \" \" + \"artist-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, release.data.artist[0].text), __jsx(\"div\", {\n      key: `title${index}`,\n      className: \"jsx-1868677896\" + \" \" + \"release-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: \"/img/play-song.png\",\n      alt: \"mini-play\",\n      onClick: showPlayer,\n      \"data-tag\": index,\n      className: \"jsx-1868677896\" + \" \" + \"mini-play\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), release.data.title[0].text)), _parseInt(playerDisplayId) === index && __jsx(\"div\", {\n      className: \"jsx-1868677896\" + \" \" + \"audio-player-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: \"/img/cross.png\",\n      alt: \"cross\",\n      onClick: stopMusic,\n      className: \"jsx-1868677896\" + \" \" + \"cross\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"jsx-1868677896\" + \" \" + \"tracklist-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, tracklist.map((track, index) => __jsx(\"div\", {\n      \"data-tag\": index,\n      onClick: startTrack,\n      className: \"jsx-1868677896\" + \" \" + \"tracklist-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, track.name.slice(0, -4)))), __jsx(AudioPlayer, {\n      track: tracklist[selectedTrack],\n      launchPlay: launchPlay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }))), __jsx(_JSXStyle, {\n      id: \"1868677896\",\n      __self: this\n    }, \".release-entry-wrapper.jsx-1868677896{padding-left:var(--global-margin);padding-right:var(--global-margin);font-family:var(--font1);font-size:var(--standard-font-size);text-transform:uppercase;}.release-cover.jsx-1868677896{cursor:pointer;width:100%;-webkit-transition:width 2s;transition:width 2s;}.release-cover.jsx-1868677896:hover{-webkit-transform:scale(1.02);-ms-transform:scale(1.02);transform:scale(1.02);}.release-details.jsx-1868677896{padding-top:1rem;padding-bottom:1rem;padding-left:0.5rem;padding-right:0.5rem;text-align:center;-webkit-letter-spacing:0.05rem;-moz-letter-spacing:0.05rem;-ms-letter-spacing:0.05rem;letter-spacing:0.05rem;}.mini-play.jsx-1868677896{width:0.5rem;margin-right:0.7rem;cursor:pointer;}.artist-name.jsx-1868677896,.release-name.jsx-1868677896{padding-top:0.5rem;padding-bottom:0.3rem;}.audio-player-container.jsx-1868677896{cursor:pointer;position:fixed;bottom:0;left:0;background:white;width:100%;z-index:2;padding-bottom:1rem;padding-top:1rem;}.cross.jsx-1868677896{width:0.7rem;position:absolute;right:0.3rem;top:0.3rem;}.cross.jsx-1868677896:hover{width:0.75rem;opacity:0.7;}.tracklist-container.jsx-1868677896{padding-bottom:0.5rem;padding-left:1rem;padding-right:1rem;}.tracklist-item.jsx-1868677896{padding-bottom:0.5rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qZXJlbWllL3dlYi8zM19lbGlzL2NvbXBvbmVudHMvUmVsZWFzZUVudHJ5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZFc0IsQUFHaUQsQUFPbkIsQUFLTyxBQUlMLEFBUUosQUFNTSxBQUlKLEFBV0YsQUFNQyxBQUlRLEFBS0EsYUFuQ0YsQUFxQkYsQ0FNTixDQTVDRCxBQTJCSSxFQWxCSyxFQWNFLEdBeUJKLEFBS3BCLElBcERzQixBQTRDdEIsSUFqQlcsQ0FXSSxFQXJCRSxDQXpCb0IsR0FpQmYsRUFtQmIsQ0FvQlksQ0F6QnJCLEdBZ0JhLEVBVk0sRUFYbkIsT0FzQkEsRUE5QnVCLEVBdUN2QixJQW5CYSxNQXJDYyxLQVEzQixBQThCWSxJQTNCWixBQU9vQixNQXFCRSxVQXRDZ0IsRUFrQmIsUUFxQk4saUJBQ25CLFNBdkMyQix5QkFDM0Isa0RBaUJBIiwiZmlsZSI6Ii9Vc2Vycy9qZXJlbWllL3dlYi8zM19lbGlzL2NvbXBvbmVudHMvUmVsZWFzZUVudHJ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEF1ZGlvUGxheWVyIGZyb20gXCIuL0F1ZGlvUGxheWVyXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgQ2xvc2luZ0Nyb3NzIGZyb20gXCIuL0Nsb3NpbmdDcm9zc1wiO1xuXG5mdW5jdGlvbiBSZWxlYXNlRW50cnkocHJvcHMpIHtcbiAgY29uc3QgW3BsYXllckRpc3BsYXlJZCwgc2V0UGxheWVyRGlzcGxheUlkXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWRUcmFjaywgc2V0U2VsZWN0ZWRUcmFja10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2xhdW5jaFBsYXksIHNldExhdW5jaFBsYXldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBmdW5jdGlvbiBzaG93UGxheWVyKGV2ZW50KSB7XG4gICAgc2V0UGxheWVyRGlzcGxheUlkKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRhZ1wiKSk7XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnRUcmFjayhldmVudCkge1xuICAgIHNldFNlbGVjdGVkVHJhY2soZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtdGFnXCIpKTtcbiAgICBzZXRMYXVuY2hQbGF5KHRydWUpO1xuICB9XG4gIGZ1bmN0aW9uIHN0b3BNdXNpYygpIHtcbiAgICBzZXRMYXVuY2hQbGF5KGZhbHNlKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgcHJvcHMucmVsZWFzZXMgJiZcbiAgICBwcm9wcy5yZWxlYXNlcy5tYXAoZnVuY3Rpb24ocmVsZWFzZSwgaW5kZXgpIHtcbiAgICAgIGxldCB0cmFja2xpc3QgPSBPYmplY3QudmFsdWVzKHJlbGVhc2UuZGF0YS50cmFja3NbMF0pO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGVhc2UtZW50cnktd3JhcHBlclwiPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxlYXNlLWNvdmVyXCJcbiAgICAgICAgICAgICAgb25DbGljaz17c2hvd1BsYXllcn1cbiAgICAgICAgICAgICAga2V5PXtgY292ZXIke2luZGV4fWB9XG4gICAgICAgICAgICAgIHNyYz17cmVsZWFzZS5kYXRhLmNvdmVyLnVybH1cbiAgICAgICAgICAgICAgYWx0PVwicmVsZWFzZS1jb3ZlclwiXG4gICAgICAgICAgICAgIGRhdGEtdGFnPXtpbmRleH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGVhc2UtZGV0YWlsc1wiPlxuICAgICAgICAgICAgICA8ZGl2IGtleT17YGFydGlzdCR7aW5kZXh9YH0gY2xhc3NOYW1lPVwiYXJ0aXN0LW5hbWVcIj5cbiAgICAgICAgICAgICAgICB7cmVsZWFzZS5kYXRhLmFydGlzdFswXS50ZXh0fVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGtleT17YHRpdGxlJHtpbmRleH1gfSBjbGFzc05hbWU9XCJyZWxlYXNlLW5hbWVcIj5cbiAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtaW5pLXBsYXlcIlxuICAgICAgICAgICAgICAgICAgc3JjPVwiL2ltZy9wbGF5LXNvbmcucG5nXCJcbiAgICAgICAgICAgICAgICAgIGFsdD1cIm1pbmktcGxheVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtzaG93UGxheWVyfVxuICAgICAgICAgICAgICAgICAgZGF0YS10YWc9e2luZGV4fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge3JlbGVhc2UuZGF0YS50aXRsZVswXS50ZXh0fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7cGFyc2VJbnQocGxheWVyRGlzcGxheUlkKSA9PT0gaW5kZXggJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF1ZGlvLXBsYXllci1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjcm9zc1wiXG4gICAgICAgICAgICAgICAgICBzcmM9XCIvaW1nL2Nyb3NzLnBuZ1wiXG4gICAgICAgICAgICAgICAgICBhbHQ9XCJjcm9zc1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtzdG9wTXVzaWN9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyYWNrbGlzdC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgIHt0cmFja2xpc3QubWFwKCh0cmFjaywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRyYWNrbGlzdC1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRhZz17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17c3RhcnRUcmFja31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHt0cmFjay5uYW1lLnNsaWNlKDAsIC00KX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8QXVkaW9QbGF5ZXJcbiAgICAgICAgICAgICAgICAgIHRyYWNrPXt0cmFja2xpc3Rbc2VsZWN0ZWRUcmFja119XG4gICAgICAgICAgICAgICAgICBsYXVuY2hQbGF5PXtsYXVuY2hQbGF5fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICAucmVsZWFzZS1lbnRyeS13cmFwcGVyIHtcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiB2YXIoLS1nbG9iYWwtbWFyZ2luKTtcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogdmFyKC0tZ2xvYmFsLW1hcmdpbik7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250MSk7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tc3RhbmRhcmQtZm9udC1zaXplKTtcbiAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5yZWxlYXNlLWNvdmVyIHtcbiAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogd2lkdGggMnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAucmVsZWFzZS1jb3Zlcjpob3ZlciB7XG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wMik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5yZWxlYXNlLWRldGFpbHMge1xuICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogMXJlbTtcbiAgICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDFyZW07XG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMC41cmVtO1xuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAwLjVyZW07XG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDVyZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubWluaS1wbGF5IHtcbiAgICAgICAgICAgICAgd2lkdGg6IDAuNXJlbTtcbiAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwLjdyZW07XG4gICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5hcnRpc3QtbmFtZSxcbiAgICAgICAgICAgIC5yZWxlYXNlLW5hbWUge1xuICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogMC41cmVtO1xuICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMC4zcmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmF1ZGlvLXBsYXllci1jb250YWluZXIge1xuICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgIHotaW5kZXg6IDI7XG4gICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxcmVtO1xuICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogMXJlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5jcm9zcyB7XG4gICAgICAgICAgICAgIHdpZHRoOiAwLjdyZW07XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgcmlnaHQ6IDAuM3JlbTtcbiAgICAgICAgICAgICAgdG9wOiAwLjNyZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY3Jvc3M6aG92ZXIge1xuICAgICAgICAgICAgICB3aWR0aDogMC43NXJlbTtcbiAgICAgICAgICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnRyYWNrbGlzdC1jb250YWluZXIge1xuICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMC41cmVtO1xuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDFyZW07XG4gICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDFyZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAudHJhY2tsaXN0LWl0ZW0ge1xuICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMC41cmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0pXG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlbGVhc2VFbnRyeTtcbiJdfQ== */\\n/*@ sourceURL=/Users/jeremie/web/33_elis/components/ReleaseEntry.js */\"));\n  });\n}\n\nexport default ReleaseEntry;","map":{"version":3,"sources":["/Users/jeremie/web/33_elis/components/ReleaseEntry.js"],"names":["AudioPlayer","useEffect","useState","ClosingCross","ReleaseEntry","props","playerDisplayId","setPlayerDisplayId","selectedTrack","setSelectedTrack","launchPlay","setLaunchPlay","showPlayer","event","target","getAttribute","startTrack","stopMusic","releases","map","release","index","tracklist","data","tracks","cover","url","artist","text","title","track","name","slice"],"mappings":"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","sourcesContent":["import AudioPlayer from \"./AudioPlayer\";\nimport { useEffect, useState } from \"react\";\nimport ClosingCross from \"./ClosingCross\";\n\nfunction ReleaseEntry(props) {\n  const [playerDisplayId, setPlayerDisplayId] = useState(null);\n  const [selectedTrack, setSelectedTrack] = useState(0);\n  const [launchPlay, setLaunchPlay] = useState(false);\n  function showPlayer(event) {\n    setPlayerDisplayId(event.target.getAttribute(\"data-tag\"));\n  }\n  function startTrack(event) {\n    setSelectedTrack(event.target.getAttribute(\"data-tag\"));\n    setLaunchPlay(true);\n  }\n  function stopMusic() {\n    setLaunchPlay(false);\n  }\n\n  return (\n    props.releases &&\n    props.releases.map(function(release, index) {\n      let tracklist = Object.values(release.data.tracks[0]);\n      return (\n        <div>\n          <div className=\"release-entry-wrapper\">\n            <img\n              className=\"release-cover\"\n              onClick={showPlayer}\n              key={`cover${index}`}\n              src={release.data.cover.url}\n              alt=\"release-cover\"\n              data-tag={index}\n            />\n            <div className=\"release-details\">\n              <div key={`artist${index}`} className=\"artist-name\">\n                {release.data.artist[0].text}\n              </div>\n\n              <div key={`title${index}`} className=\"release-name\">\n                <img\n                  className=\"mini-play\"\n                  src=\"/img/play-song.png\"\n                  alt=\"mini-play\"\n                  onClick={showPlayer}\n                  data-tag={index}\n                />\n                {release.data.title[0].text}\n              </div>\n            </div>\n\n            {parseInt(playerDisplayId) === index && (\n              <div className=\"audio-player-container\">\n                <img\n                  className=\"cross\"\n                  src=\"/img/cross.png\"\n                  alt=\"cross\"\n                  onClick={stopMusic}\n                />\n                <div className=\"tracklist-container\">\n                  {tracklist.map((track, index) => (\n                    <div\n                      className=\"tracklist-item\"\n                      data-tag={index}\n                      onClick={startTrack}\n                    >\n                      {track.name.slice(0, -4)}\n                    </div>\n                  ))}\n                </div>\n                <AudioPlayer\n                  track={tracklist[selectedTrack]}\n                  launchPlay={launchPlay}\n                />\n              </div>\n            )}\n          </div>\n          <style jsx>{`\n            .release-entry-wrapper {\n              padding-left: var(--global-margin);\n              padding-right: var(--global-margin);\n              font-family: var(--font1);\n              font-size: var(--standard-font-size);\n              text-transform: uppercase;\n            }\n            .release-cover {\n              cursor: pointer;\n              width: 100%;\n              transition: width 2s;\n            }\n            .release-cover:hover {\n              transform: scale(1.02);\n            }\n\n            .release-details {\n              padding-top: 1rem;\n              padding-bottom: 1rem;\n              padding-left: 0.5rem;\n              padding-right: 0.5rem;\n              text-align: center;\n              letter-spacing: 0.05rem;\n            }\n            .mini-play {\n              width: 0.5rem;\n              margin-right: 0.7rem;\n              cursor: pointer;\n            }\n            .artist-name,\n            .release-name {\n              padding-top: 0.5rem;\n              padding-bottom: 0.3rem;\n            }\n            .audio-player-container {\n              cursor: pointer;\n              position: fixed;\n              bottom: 0;\n              left: 0;\n              background: white;\n              width: 100%;\n              z-index: 2;\n              padding-bottom: 1rem;\n              padding-top: 1rem;\n            }\n            .cross {\n              width: 0.7rem;\n              position: absolute;\n              right: 0.3rem;\n              top: 0.3rem;\n            }\n            .cross:hover {\n              width: 0.75rem;\n              opacity: 0.7;\n            }\n            .tracklist-container {\n              padding-bottom: 0.5rem;\n              padding-left: 1rem;\n              padding-right: 1rem;\n            }\n            .tracklist-item {\n              padding-bottom: 0.5rem;\n            }\n          `}</style>\n        </div>\n      );\n    })\n  );\n}\n\nexport default ReleaseEntry;\n"]},"metadata":{},"sourceType":"module"}
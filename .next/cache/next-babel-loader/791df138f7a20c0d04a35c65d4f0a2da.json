{"ast":null,"code":"var _jsxFileName = \"/Users/jeremie/code/elis-records-website/components/AudioPlayer.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useRef, useEffect } from \"react\";\nimport PlayButton from \"./PlayButton\";\nimport ProgressBar from \"./ProgressBar\";\nimport VolumeSlider from \"./VolumeSlider\";\nimport Loader from \"./Loader\";\n\nfunction AudioPlayer(props) {\n  const {\n    0: progression,\n    1: setProgression\n  } = useState(0);\n  const audio = useRef();\n\n  const updateProgress = () => setProgression(audio.current.currentTime / audio.current.duration * 100);\n\n  useEffect(() => {\n    props.playingStatus ? audio.current.play() : audio.current.pause();\n  }, [props.playingStatus]); // allows launching track when clicking on the tracklist\n\n  useEffect(() => {\n    props.setPlayingStatus(true);\n    audio.current.currentTime = 0;\n    audio.current.play();\n  }, [props.launchPlay, props.track]);\n  return __jsx(\"div\", {\n    className: \"jsx-3503910218\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, !(audio.current && audio.current.currentTime > 0) ? __jsx(\"div\", {\n    className: \"jsx-3503910218\" + \" \" + \"loader-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, __jsx(Loader, {\n    size: \"37\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  })) : __jsx(\"div\", {\n    className: \"jsx-3503910218\" + \" \" + \"player-loaded\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3503910218\" + \" \" + \"audio-player-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, __jsx(PlayButton, {\n    handlePlayButtonClick: props.handlePlayButtonClick,\n    playingStatus: props.playingStatus,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), __jsx(ProgressBar, {\n    audio: audio.current,\n    progression: progression,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  })), __jsx(VolumeSlider, {\n    audio: audio.current,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  })), __jsx(\"audio\", {\n    ref: audio,\n    onTimeUpdate: updateProgress,\n    src: props.track.url,\n    className: \"jsx-3503910218\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), __jsx(_JSXStyle, {\n    id: \"3503910218\",\n    __self: this\n  }, \".audio-player-container.jsx-3503910218{z-index:5;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:2rem;-webkit-animation:fadeIn-jsx-3503910218 1s;animation:fadeIn-jsx-3503910218 1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;}.loader-container.jsx-3503910218{padding-bottom:1rem;}@-webkit-keyframes fadeIn-jsx-3503910218{from{opacity:0;}to{opacity:1;}}@keyframes fadeIn-jsx-3503910218{from{opacity:0;}to{opacity:1;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qZXJlbWllL2NvZGUvZWxpcy1yZWNvcmRzLXdlYnNpdGUvY29tcG9uZW50cy9BdWRpb1BsYXllci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEwQ2tCLEFBR3FCLEFBU1UsQUFLUixBQUlBLFVBakJNLEFBY2xCLEFBSUEsVUFURixRQVJlLDBFQUNGLFdBQ0MsWUFDUSw4RUFDUyxrRUFDL0IiLCJmaWxlIjoiL1VzZXJzL2plcmVtaWUvY29kZS9lbGlzLXJlY29yZHMtd2Vic2l0ZS9jb21wb25lbnRzL0F1ZGlvUGxheWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUGxheUJ1dHRvbiBmcm9tIFwiLi9QbGF5QnV0dG9uXCI7XG5pbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSBcIi4vUHJvZ3Jlc3NCYXJcIjtcbmltcG9ydCBWb2x1bWVTbGlkZXIgZnJvbSBcIi4vVm9sdW1lU2xpZGVyXCI7XG5pbXBvcnQgTG9hZGVyIGZyb20gXCIuL0xvYWRlclwiO1xuXG5mdW5jdGlvbiBBdWRpb1BsYXllcihwcm9wcykge1xuICBjb25zdCBbcHJvZ3Jlc3Npb24sIHNldFByb2dyZXNzaW9uXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBhdWRpbyA9IHVzZVJlZigpO1xuICBjb25zdCB1cGRhdGVQcm9ncmVzcyA9ICgpID0+XG4gICAgc2V0UHJvZ3Jlc3Npb24oKGF1ZGlvLmN1cnJlbnQuY3VycmVudFRpbWUgLyBhdWRpby5jdXJyZW50LmR1cmF0aW9uKSAqIDEwMCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcHJvcHMucGxheWluZ1N0YXR1cyA/IGF1ZGlvLmN1cnJlbnQucGxheSgpIDogYXVkaW8uY3VycmVudC5wYXVzZSgpO1xuICB9LCBbcHJvcHMucGxheWluZ1N0YXR1c10pO1xuXG4gIC8vIGFsbG93cyBsYXVuY2hpbmcgdHJhY2sgd2hlbiBjbGlja2luZyBvbiB0aGUgdHJhY2tsaXN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcHJvcHMuc2V0UGxheWluZ1N0YXR1cyh0cnVlKTtcbiAgICBhdWRpby5jdXJyZW50LmN1cnJlbnRUaW1lID0gMDtcbiAgICBhdWRpby5jdXJyZW50LnBsYXkoKTtcbiAgfSwgW3Byb3BzLmxhdW5jaFBsYXksIHByb3BzLnRyYWNrXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgeyEoYXVkaW8uY3VycmVudCAmJiBhdWRpby5jdXJyZW50LmN1cnJlbnRUaW1lID4gMCkgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGVyLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxMb2FkZXIgc2l6ZT1cIjM3XCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYXllci1sb2FkZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF1ZGlvLXBsYXllci1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxQbGF5QnV0dG9uXG4gICAgICAgICAgICAgIGhhbmRsZVBsYXlCdXR0b25DbGljaz17cHJvcHMuaGFuZGxlUGxheUJ1dHRvbkNsaWNrfVxuICAgICAgICAgICAgICBwbGF5aW5nU3RhdHVzPXtwcm9wcy5wbGF5aW5nU3RhdHVzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxQcm9ncmVzc0JhciBhdWRpbz17YXVkaW8uY3VycmVudH0gcHJvZ3Jlc3Npb249e3Byb2dyZXNzaW9ufSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxWb2x1bWVTbGlkZXIgYXVkaW89e2F1ZGlvLmN1cnJlbnR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxhdWRpbyByZWY9e2F1ZGlvfSBvblRpbWVVcGRhdGU9e3VwZGF0ZVByb2dyZXNzfSBzcmM9e3Byb3BzLnRyYWNrLnVybH0gLz5cblxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAuYXVkaW8tcGxheWVyLWNvbnRhaW5lciB7XG4gICAgICAgICAgei1pbmRleDogNTtcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBoZWlnaHQ6IDJyZW07XG4gICAgICAgICAgYW5pbWF0aW9uOiBmYWRlSW4gMXM7XG4gICAgICAgICAgYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XG4gICAgICAgIH1cbiAgICAgICAgLmxvYWRlci1jb250YWluZXIge1xuICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxcmVtO1xuICAgICAgICB9XG5cbiAgICAgICAgQGtleWZyYW1lcyBmYWRlSW4ge1xuICAgICAgICAgIGZyb20ge1xuICAgICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0byB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBdWRpb1BsYXllcjtcbiJdfQ== */\\n/*@ sourceURL=/Users/jeremie/code/elis-records-website/components/AudioPlayer.js */\"));\n}\n\nexport default AudioPlayer;","map":{"version":3,"sources":["/Users/jeremie/code/elis-records-website/components/AudioPlayer.js"],"names":["useState","useRef","useEffect","PlayButton","ProgressBar","VolumeSlider","Loader","AudioPlayer","props","progression","setProgression","audio","updateProgress","current","currentTime","duration","playingStatus","play","pause","setPlayingStatus","launchPlay","track","handlePlayButtonClick","url"],"mappings":";;;;AAAA,SAASA,QAAT,EAAmBC,MAAnB,EAA2BC,SAA3B,QAA4C,OAA5C;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,QAAM;AAAA,OAACC,WAAD;AAAA,OAAcC;AAAd,MAAgCV,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAMW,KAAK,GAAGV,MAAM,EAApB;;AACA,QAAMW,cAAc,GAAG,MACrBF,cAAc,CAAEC,KAAK,CAACE,OAAN,CAAcC,WAAd,GAA4BH,KAAK,CAACE,OAAN,CAAcE,QAA3C,GAAuD,GAAxD,CADhB;;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,KAAK,CAACQ,aAAN,GAAsBL,KAAK,CAACE,OAAN,CAAcI,IAAd,EAAtB,GAA6CN,KAAK,CAACE,OAAN,CAAcK,KAAd,EAA7C;AACD,GAFQ,EAEN,CAACV,KAAK,CAACQ,aAAP,CAFM,CAAT,CAL0B,CAS1B;;AACAd,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,KAAK,CAACW,gBAAN,CAAuB,IAAvB;AACAR,IAAAA,KAAK,CAACE,OAAN,CAAcC,WAAd,GAA4B,CAA5B;AACAH,IAAAA,KAAK,CAACE,OAAN,CAAcI,IAAd;AACD,GAJQ,EAIN,CAACT,KAAK,CAACY,UAAP,EAAmBZ,KAAK,CAACa,KAAzB,CAJM,CAAT;AAMA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,EAAEV,KAAK,CAACE,OAAN,IAAiBF,KAAK,CAACE,OAAN,CAAcC,WAAd,GAA4B,CAA/C,IACC;AAAA,wCAAe,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,GAKC;AAAA,wCAAe,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AACE,IAAA,qBAAqB,EAAEN,KAAK,CAACc,qBAD/B;AAEE,IAAA,aAAa,EAAEd,KAAK,CAACQ,aAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAKE,MAAC,WAAD;AAAa,IAAA,KAAK,EAAEL,KAAK,CAACE,OAA1B;AAAmC,IAAA,WAAW,EAAEJ,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,EAQE,MAAC,YAAD;AAAc,IAAA,KAAK,EAAEE,KAAK,CAACE,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CANJ,EAiBE;AAAO,IAAA,GAAG,EAAEF,KAAZ;AAAmB,IAAA,YAAY,EAAEC,cAAjC;AAAiD,IAAA,GAAG,EAAEJ,KAAK,CAACa,KAAN,CAAYE,GAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBF;AAAA;AAAA;AAAA,8uHADF;AA8CD;;AAED,eAAehB,WAAf","sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport PlayButton from \"./PlayButton\";\nimport ProgressBar from \"./ProgressBar\";\nimport VolumeSlider from \"./VolumeSlider\";\nimport Loader from \"./Loader\";\n\nfunction AudioPlayer(props) {\n  const [progression, setProgression] = useState(0);\n  const audio = useRef();\n  const updateProgress = () =>\n    setProgression((audio.current.currentTime / audio.current.duration) * 100);\n  useEffect(() => {\n    props.playingStatus ? audio.current.play() : audio.current.pause();\n  }, [props.playingStatus]);\n\n  // allows launching track when clicking on the tracklist\n  useEffect(() => {\n    props.setPlayingStatus(true);\n    audio.current.currentTime = 0;\n    audio.current.play();\n  }, [props.launchPlay, props.track]);\n\n  return (\n    <div>\n      {!(audio.current && audio.current.currentTime > 0) ? (\n        <div className=\"loader-container\">\n          <Loader size=\"37\" />\n        </div>\n      ) : (\n        <div className=\"player-loaded\">\n          <div className=\"audio-player-container\">\n            <PlayButton\n              handlePlayButtonClick={props.handlePlayButtonClick}\n              playingStatus={props.playingStatus}\n            />\n            <ProgressBar audio={audio.current} progression={progression} />\n          </div>\n          <VolumeSlider audio={audio.current} />\n        </div>\n      )}\n      <audio ref={audio} onTimeUpdate={updateProgress} src={props.track.url} />\n\n      <style jsx>{`\n        .audio-player-container {\n          z-index: 5;\n          position: relative;\n          display: flex;\n          width: 100%;\n          height: 2rem;\n          animation: fadeIn 1s;\n          animation-fill-mode: forwards;\n        }\n        .loader-container {\n          padding-bottom: 1rem;\n        }\n\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n          }\n\n          to {\n            opacity: 1;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n\nexport default AudioPlayer;\n"]},"metadata":{},"sourceType":"module"}